/* AppToolbar.c generated by valac 0.18.1, the Vala compiler
 * generated from AppToolbar.vala, do not modify */

/***
    Copyright (C) 2012-2013 Granite Developers

    This program or library is free software; you can redistribute it
    and/or modify it under the terms of the GNU Lesser General Public
    License as published by the Free Software Foundation; either
    version 3 of the License, or (at your option) any later version.

    This library is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
    Lesser General Public License for more details.
 
    You should have received a copy of the GNU Lesser General
    Public License along with this library; if not, write to the
    Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
    Boston, MA 02110-1301 USA.

    Authored by: Victor Eduardo <victoreduardm@gmal.com>
***/

#include <glib.h>
#include <glib-object.h>
#include <gtk/gtk.h>
#include <stdlib.h>
#include <string.h>


#define DRAW_TYPE_APP_TOOLBAR (draw_app_toolbar_get_type ())
#define DRAW_APP_TOOLBAR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), DRAW_TYPE_APP_TOOLBAR, DrawAppToolbar))
#define DRAW_APP_TOOLBAR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), DRAW_TYPE_APP_TOOLBAR, DrawAppToolbarClass))
#define DRAW_IS_APP_TOOLBAR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), DRAW_TYPE_APP_TOOLBAR))
#define DRAW_IS_APP_TOOLBAR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), DRAW_TYPE_APP_TOOLBAR))
#define DRAW_APP_TOOLBAR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), DRAW_TYPE_APP_TOOLBAR, DrawAppToolbarClass))

typedef struct _DrawAppToolbar DrawAppToolbar;
typedef struct _DrawAppToolbarClass DrawAppToolbarClass;
typedef struct _DrawAppToolbarPrivate DrawAppToolbarPrivate;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))

#define DRAW_TYPE_TOOLBAR_POSITION (draw_toolbar_position_get_type ())

struct _DrawAppToolbar {
	GtkToolbar parent_instance;
	DrawAppToolbarPrivate * priv;
};

struct _DrawAppToolbarClass {
	GtkToolbarClass parent_class;
};

struct _DrawAppToolbarPrivate {
	gint item_spacing;
	GtkBox* left_box;
	GtkBox* center_box;
	GtkBox* right_box;
};

typedef enum  {
	DRAW_TOOLBAR_POSITION_LEFT,
	DRAW_TOOLBAR_POSITION_CENTER,
	DRAW_TOOLBAR_POSITION_RIGHT
} DrawToolbarPosition;


static gpointer draw_app_toolbar_parent_class = NULL;

GType draw_app_toolbar_get_type (void) G_GNUC_CONST;
#define DRAW_APP_TOOLBAR_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), DRAW_TYPE_APP_TOOLBAR, DrawAppToolbarPrivate))
enum  {
	DRAW_APP_TOOLBAR_DUMMY_PROPERTY
};
DrawAppToolbar* draw_app_toolbar_new (const gchar* css_class, gint* spacing);
DrawAppToolbar* draw_app_toolbar_construct (GType object_type, const gchar* css_class, gint* spacing);
GType draw_toolbar_position_get_type (void) G_GNUC_CONST;
void draw_app_toolbar_insert_widget (DrawAppToolbar* self, GtkWidget* widget, DrawToolbarPosition position);
static void draw_app_toolbar_finalize (GObject* obj);


/**
 * Creates a new Toolbar.
 */
DrawAppToolbar* draw_app_toolbar_construct (GType object_type, const gchar* css_class, gint* spacing) {
	DrawAppToolbar * self = NULL;
	gint* _tmp0_;
	GtkStyleContext* _tmp2_ = NULL;
	GtkStyleContext* _tmp3_ = NULL;
	const gchar* _tmp4_;
	GtkBox* _tmp5_;
	GtkBox* _tmp6_;
	GtkBox* _tmp7_;
	GtkToolItem* _tmp8_;
	GtkToolItem* left_item;
	GtkToolItem* _tmp9_;
	GtkToolItem* center_item;
	GtkToolItem* _tmp10_;
	GtkToolItem* right_item;
	GtkBox* _tmp11_;
	GtkBox* _tmp12_;
	GtkBox* _tmp13_;
	g_return_val_if_fail (css_class != NULL, NULL);
	self = (DrawAppToolbar*) g_object_new (object_type, NULL);
	_tmp0_ = spacing;
	if (_tmp0_ != NULL) {
		gint* _tmp1_;
		_tmp1_ = spacing;
		self->priv->item_spacing = (gint) (*_tmp1_);
	}
	_tmp2_ = gtk_widget_get_style_context ((GtkWidget*) self);
	gtk_style_context_remove_class (_tmp2_, GTK_STYLE_CLASS_TOOLBAR);
	_tmp3_ = gtk_widget_get_style_context ((GtkWidget*) self);
	_tmp4_ = css_class;
	gtk_style_context_add_class (_tmp3_, _tmp4_);
	_tmp5_ = (GtkBox*) gtk_box_new (GTK_ORIENTATION_HORIZONTAL, 0);
	g_object_ref_sink (_tmp5_);
	_g_object_unref0 (self->priv->center_box);
	self->priv->center_box = _tmp5_;
	_tmp6_ = (GtkBox*) gtk_box_new (GTK_ORIENTATION_HORIZONTAL, 0);
	g_object_ref_sink (_tmp6_);
	_g_object_unref0 (self->priv->left_box);
	self->priv->left_box = _tmp6_;
	_tmp7_ = (GtkBox*) gtk_box_new (GTK_ORIENTATION_HORIZONTAL, 0);
	g_object_ref_sink (_tmp7_);
	_g_object_unref0 (self->priv->right_box);
	self->priv->right_box = _tmp7_;
	_tmp8_ = gtk_tool_item_new ();
	g_object_ref_sink (_tmp8_);
	left_item = _tmp8_;
	_tmp9_ = gtk_tool_item_new ();
	g_object_ref_sink (_tmp9_);
	center_item = _tmp9_;
	gtk_tool_item_set_expand (center_item, TRUE);
	_tmp10_ = gtk_tool_item_new ();
	g_object_ref_sink (_tmp10_);
	right_item = _tmp10_;
	_tmp11_ = self->priv->left_box;
	gtk_container_add ((GtkContainer*) left_item, (GtkWidget*) _tmp11_);
	_tmp12_ = self->priv->center_box;
	gtk_container_add ((GtkContainer*) center_item, (GtkWidget*) _tmp12_);
	_tmp13_ = self->priv->right_box;
	gtk_container_add ((GtkContainer*) right_item, (GtkWidget*) _tmp13_);
	gtk_widget_set_valign ((GtkWidget*) center_item, GTK_ALIGN_CENTER);
	gtk_widget_set_valign ((GtkWidget*) right_item, GTK_ALIGN_CENTER);
	gtk_widget_set_valign ((GtkWidget*) left_item, GTK_ALIGN_CENTER);
	gtk_toolbar_insert ((GtkToolbar*) self, left_item, 0);
	gtk_toolbar_insert ((GtkToolbar*) self, center_item, 1);
	gtk_toolbar_insert ((GtkToolbar*) self, right_item, 2);
	gtk_widget_set_vexpand ((GtkWidget*) self, FALSE);
	_g_object_unref0 (right_item);
	_g_object_unref0 (center_item);
	_g_object_unref0 (left_item);
	return self;
}


DrawAppToolbar* draw_app_toolbar_new (const gchar* css_class, gint* spacing) {
	return draw_app_toolbar_construct (DRAW_TYPE_APP_TOOLBAR, css_class, spacing);
}


/**
 * Inserts widget in status bar
 * 
 * @param widget widget to insert
 * @param use_left_side whether or not to use left_side
 */
void draw_app_toolbar_insert_widget (DrawAppToolbar* self, GtkWidget* widget, DrawToolbarPosition position) {
	DrawToolbarPosition _tmp0_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (widget != NULL);
	_tmp0_ = position;
	switch (_tmp0_) {
		case DRAW_TOOLBAR_POSITION_LEFT:
		{
			GtkBox* _tmp1_;
			GtkWidget* _tmp2_;
			gint _tmp3_;
			_tmp1_ = self->priv->left_box;
			_tmp2_ = widget;
			_tmp3_ = self->priv->item_spacing;
			gtk_box_pack_start (_tmp1_, _tmp2_, FALSE, FALSE, (guint) _tmp3_);
			break;
		}
		case DRAW_TOOLBAR_POSITION_CENTER:
		{
			GtkBox* _tmp4_;
			GtkWidget* _tmp5_;
			gint _tmp6_;
			_tmp4_ = self->priv->center_box;
			_tmp5_ = widget;
			_tmp6_ = self->priv->item_spacing;
			gtk_box_pack_start (_tmp4_, _tmp5_, FALSE, FALSE, (guint) _tmp6_);
			break;
		}
		case DRAW_TOOLBAR_POSITION_RIGHT:
		{
			GtkBox* _tmp7_;
			GtkWidget* _tmp8_;
			gint _tmp9_;
			_tmp7_ = self->priv->right_box;
			_tmp8_ = widget;
			_tmp9_ = self->priv->item_spacing;
			gtk_box_pack_start (_tmp7_, _tmp8_, FALSE, FALSE, (guint) _tmp9_);
			break;
		}
		default:
		break;
	}
}


static void draw_app_toolbar_class_init (DrawAppToolbarClass * klass) {
	draw_app_toolbar_parent_class = g_type_class_peek_parent (klass);
	g_type_class_add_private (klass, sizeof (DrawAppToolbarPrivate));
	G_OBJECT_CLASS (klass)->finalize = draw_app_toolbar_finalize;
}


static void draw_app_toolbar_instance_init (DrawAppToolbar * self) {
	self->priv = DRAW_APP_TOOLBAR_GET_PRIVATE (self);
	self->priv->item_spacing = 3;
}


static void draw_app_toolbar_finalize (GObject* obj) {
	DrawAppToolbar * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, DRAW_TYPE_APP_TOOLBAR, DrawAppToolbar);
	_g_object_unref0 (self->priv->left_box);
	_g_object_unref0 (self->priv->center_box);
	_g_object_unref0 (self->priv->right_box);
	G_OBJECT_CLASS (draw_app_toolbar_parent_class)->finalize (obj);
}


GType draw_app_toolbar_get_type (void) {
	static volatile gsize draw_app_toolbar_type_id__volatile = 0;
	if (g_once_init_enter (&draw_app_toolbar_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (DrawAppToolbarClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) draw_app_toolbar_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (DrawAppToolbar), 0, (GInstanceInitFunc) draw_app_toolbar_instance_init, NULL };
		GType draw_app_toolbar_type_id;
		draw_app_toolbar_type_id = g_type_register_static (GTK_TYPE_TOOLBAR, "DrawAppToolbar", &g_define_type_info, 0);
		g_once_init_leave (&draw_app_toolbar_type_id__volatile, draw_app_toolbar_type_id);
	}
	return draw_app_toolbar_type_id__volatile;
}


GType draw_toolbar_position_get_type (void) {
	static volatile gsize draw_toolbar_position_type_id__volatile = 0;
	if (g_once_init_enter (&draw_toolbar_position_type_id__volatile)) {
		static const GEnumValue values[] = {{DRAW_TOOLBAR_POSITION_LEFT, "DRAW_TOOLBAR_POSITION_LEFT", "left"}, {DRAW_TOOLBAR_POSITION_CENTER, "DRAW_TOOLBAR_POSITION_CENTER", "center"}, {DRAW_TOOLBAR_POSITION_RIGHT, "DRAW_TOOLBAR_POSITION_RIGHT", "right"}, {0, NULL, NULL}};
		GType draw_toolbar_position_type_id;
		draw_toolbar_position_type_id = g_enum_register_static ("DrawToolbarPosition", values);
		g_once_init_leave (&draw_toolbar_position_type_id__volatile, draw_toolbar_position_type_id);
	}
	return draw_toolbar_position_type_id__volatile;
}



